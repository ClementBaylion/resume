<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clement Baylion - Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth; /* For smooth scrolling to sections */
            background-color: #f8fafc; /* Overall body background (light gray) */
        }
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto; /* Center vertically and horizontally */
            padding: 2.5rem; /* Increased padding */
            border-radius: 1rem; /* Rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Stronger shadow */
            position: relative;
            max-width: 90%; /* Max width for responsiveness */
            width: 400px; /* Fixed width for larger screens */
            text-align: center;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #3b82f6; /* Blue spinner */
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-left: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Full-width Header Section (Dark Background) -->
    <div class="bg-[#2e1b79] rounded-t-2xl shadow-lg mb-16">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <header class="flex flex-col items-center text-center">
                <!-- Profile image -->
                <img src="./images/Clement profil gray.jpg" alt="Photo de Clement Baylion" class="w-32 h-32 rounded-full mb-4 border-4 border-slate-200">
                <div>
                    <!-- Name and professional title -->
                    <h1 class="text-3xl sm:text-4xl font-bold text-white">Clement Baylion</h1>
                    <p class="text-lg sm:text-xl font-semibold text-blue-200 mt-1">Marketing Manager</p>
                </div>
                
                <!-- Slogan or value proposition -->
                <h2 class="text-3xl sm:text-4xl font-bold text-white mt-8">Customer gets every value</h2> <!-- Increased font size here -->
                <p class="mt-4 max-w-2xl mx-auto text-md text-blue-100">
                    Building the bridge between engineering and customers, ensuring each innovation is perfectly understood and becomes a reason to buy.
                </p>

                <!-- Action buttons section -->
                <div class="mt-16 flex flex-wrap justify-center gap-8">
                    <!-- Contact button -->
                    <a id="contactMeBtn" href="#" class="text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 shadow-md w-full sm:w-48" style="background-color: #645ddc;">
                        Contact Me
                    </a>
                    <!-- Download CV button -->
                    <a href="./resume.html" class="text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 shadow-md w-full sm:w-48" style="background-color: #645ddc;">
                        Resume
                    </a>
                </div>
            </header>
        </div>
    </div>

    <!-- Full-width My Mission Section (White Background) -->
    <div class="bg-white shadow-lg mb-16"> <!-- No rounded corners here, it's a middle section -->
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
                <div class="md:w-2/3">
                    <h2 class="text-2xl font-bold text-slate-900 border-b-2 border-blue-200 pb-2 mb-4">Transform innovation into sales</h2>
                    <p class="text-slate-600 text-base leading-relaxed">
                        No time or not paying attention, customers can miss a value. And you miss a sales. How to transform your innovations into easy ideas?
                        <br><br> Get an engineer specialized in marketing.
                    </p>
                </div>
                <div class="md:w-1/3 w-full mt-6 md:mt-0">
                    <!-- Illustrative image for professional summary -->
                    <img src="./images/techno.png" alt="Technological setting" class="rounded-xl shadow-lg w-full h-auto object-cover">
                </div>
            </section>
        </div>
    </div>

    <!-- Full-width My Tools of Success Section (Dark Background) -->
    <div class="bg-[#2e1b79] rounded-b-2xl shadow-lg mb-16">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="text-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-white border-b-2 border-blue-200 pb-2 mb-8">My Tools of Success</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Tool Box 1 (White Background) -->
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <!-- Logo for Tool Box 1 -->
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4">MBA and Engineer</h3>
                        <p class="text-slate-600">
                            Dual expertise Combining engineering and strategic vision to create replicable success
                        </p>
                    </div>
                    <!-- Tool Box 2 (White Background) -->
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <!-- Logo for Tool Box 2 -->
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-3">20 Years Experience</h3>
                        <p class="text-slate-600">
                            Global perspective built over 20 years, shaping growth strategies for 3 major brands across 2 continents 
                        </p>
                    </div>
                    <!-- Tool Box 3 (White Background) -->
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <!-- Logo for Tool Box 3 -->
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-3">Proven Execution</h3>
                        <p class="text-slate-600">
                             Demonstrated ability to deliver results on both stand-alone initiatives and large-scale strategic projects 
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- AI Marketing Assistant Section -->
    <div class="bg-white shadow-lg mb-16 rounded-b-2xl">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="text-center">
                <h2 class="text-2xl font-bold text-slate-900 border-b-2 border-blue-200 pb-2 mb-8">What can it bring me?</h2>
                <p class="text-slate-600 mb-6">
                    I am an AI agent with Clement's main profile elements in memory. You can ask me questions about it.
                </p>
                <textarea id="aiInput" class="w-full p-3 rounded-lg border border-slate-300 mb-4 resize-y" rows="6" placeholder="E.g., 'What are Clement's key strengths in digital marketing?' or 'Compare my job offer for a Product Manager with Clement's profile.'"></textarea>
                <div class="flex flex-wrap justify-center gap-4 w-full mb-6">
                    <button id="askQuestionBtn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-300 shadow-md text-sm">
                        Ask Question
                    </button>
                    <button id="summarizeExpertiseBtn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-300 shadow-md text-sm">
                        Summarize Expertise
                    </button>
                </div>
                <div id="aiOutput" class="w-full bg-slate-50 p-4 rounded-lg border border-slate-200 text-left text-slate-700 min-h-[100px] flex items-center justify-center" style="white-space: pre-wrap;">
                    <p class="text-slate-500">Your AI-generated content will appear here.</p>
                </div>
                <div id="loadingIndicator" class="hidden mt-4 text-blue-600">
                    <span class="loading-spinner"></span> Generating...
                </div>
            </section>
        </div>
    </div>

    <!-- New Section: Bottom Contact Buttons -->
    <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12 text-center">
        <div class="flex flex-col sm:flex-row justify-center gap-8">
            <!-- Contact Me Button (wider) -->
            <a id="contactMeBtnBottom" href="#" class="text-white font-bold py-3 px-12 rounded-lg transition-colors duration-300 shadow-md w-full sm:max-w-xs" style="background-color: #645ddc;">
                Contact Me
            </a>
            <!-- Resume Button (wider) -->
            <a href="./resume.html" class="text-white font-bold py-3 px-12 rounded-lg transition-colors duration-300 shadow-md w-full sm:max-w-xs" style="background-color: #645ddc;">
                Resume
            </a>
        </div>
    </div>

    <!-- Footer Section -->
    <footer class="bg-[#2e1b79] text-white text-center py-8">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12">
            <p>&copy; 2025 Clement Baylion. All rights reserved.</p>
        </div>
    </footer>

    <!-- The Modal (outside all main content blocks) -->
    <div id="contactModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3 class="text-2xl font-bold text-slate-900 mb-4">Contact Me</h3>
            <p class="text-lg text-slate-700 mb-2">
                Email: <a href="mailto:clement-baylion@hotmail.fr" class="text-blue-600 hover:underline">clement-baylion@hotmail.fr</a>
            </p>
            <p class="text-lg text-slate-700">
                Phone: <span class="text-blue-600">+46 72 142 91 08</span>
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module">
        // --- Modal Logic ---
        const modal = document.getElementById("contactModal");
        const btnTop = document.getElementById("contactMeBtn");
        const btnBottom = document.getElementById("contactMeBtnBottom");
        const span = document.getElementsByClassName("close-button")[0];

        if (btnTop) {
            btnTop.onclick = (e) => { e.preventDefault(); modal.style.display = "flex"; };
        }
        if (btnBottom) {
            btnBottom.onclick = (e) => { e.preventDefault(); modal.style.display = "flex"; };
        }
        if (span) {
            span.onclick = () => { modal.style.display = "none"; };
        }
        window.onclick = (event) => {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        // --- AI Assistant Logic ---
        // Importer la persona depuis le fichier séparé.
        // Assurez-vous que le fichier persona.js existe à la racine de votre projet.
        import { agentPersonaInstruction } from './persona.js';

        document.addEventListener('DOMContentLoaded', () => {
            const aiInput = document.getElementById('aiInput');
            const askQuestionBtn = document.getElementById('askQuestionBtn');
            const summarizeExpertiseBtn = document.getElementById('summarizeExpertiseBtn');
            const aiOutput = document.getElementById('aiOutput');
            const loadingIndicator = document.getElementById('loadingIndicator');

            async function callBackendAPI(userPrompt) {
                loadingIndicator.classList.remove('hidden');
                aiOutput.innerHTML = '';
                aiOutput.classList.add('flex', 'items-center', 'justify-center');

                try {
                    // L'appel se fait vers votre back-end sécurisé
                    const response = await fetch('/api/gemini', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ prompt: userPrompt })
                    });

                    if (!response.ok) {
                        const errorResult = await response.json();
                        throw new Error(errorResult.error || `HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    
                    const text = result.text;
                    aiOutput.innerHTML = `<p class="text-slate-700" style="white-space: pre-wrap;">${text}</p>`;

                } catch (error) {
                    aiOutput.innerHTML = `<p class="text-red-500">Error: ${error.message}. Please check the server logs.</p>`;
                    console.error("Error calling backend API:", error);
                } finally {
                    loadingIndicator.classList.add('hidden');
                    aiOutput.classList.remove('flex', 'items-center', 'justify-center');
                }
            }

            if (askQuestionBtn) {
                askQuestionBtn.addEventListener('click', () => {
                    const input = aiInput.value.trim();
                    if (input) {
                        const fullPrompt = `${agentPersonaInstruction}\n\nAnswer the following question: ${input}`;
                        callBackendAPI(fullPrompt);
                    } else {
                        aiOutput.innerHTML = '<p class="text-red-500">Please enter a question.</p>';
                    }
                });
            }

            if (summarizeExpertiseBtn) {
                summarizeExpertiseBtn.addEventListener('click', () => {
                    const summaryPrompt = `${agentPersonaInstruction}\n\nPlease provide a concise summary of your key added value and expertise. Focus on how your skills and experience translate into concrete benefits for a potential employer. Provide the summary in English.`;
                    callBackendAPI(summaryPrompt);
                });
            }
        });
    </script>
</body>
</html>
