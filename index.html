<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="pageTitle">Clement Baylion - Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth; /* For smooth scrolling to sections */
            background-color: #f8fafc; /* Overall body background (light gray) */
        }
        .gradient-text {
            background: linear-gradient(to right, #3b82f6, #1e40af);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Styles for the modal */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto; /* Center vertically and horizontally */
            padding: 2.5rem; /* Increased padding */
            border-radius: 1rem; /* Rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Stronger shadow */
            position: relative;
            max-width: 90%; /* Max width for responsiveness */
            width: 400px; /* Fixed width for larger screens */
            text-align: center;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #3b82f6; /* Blue spinner */
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .language-switcher {
            position: absolute;
            top: 1rem;
            right: 1rem;
            z-index: 10;
            display: flex; /* Use flex to align flags horizontally */
            gap: 5px; /* Small gap between flags */
        }
        .language-switcher img {
            width: 30px;
            height: 30px;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: transform 0.2s ease;
        }
        .language-switcher img:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Language Switcher -->
    <div class="language-switcher">
        <img id="langFlagEn" src="./images/flag_en.png" data-i18n="flagEnAlt" alt="English" onclick="switchLanguage('en')">
        <img id="langFlagFr" src="./images/flag_fr.png" data-i18n="flagFrAlt" alt="French" onclick="switchLanguage('fr')">
        <img id="langFlagSv" src="./images/flag_sv.png" data-i18n="flagSvAlt" alt="Swedish" onclick="switchLanguage('sv')">
    </div>

    <!-- Full-width Header Section (Dark Background) -->
    <div class="bg-[#2e1b79] shadow-lg mb-16">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <header class="flex flex-col items-center text-center">
                <img src="./images/Clement profil gray.jpg" alt="Photo de Clement Baylion" class="w-32 h-32 rounded-full mb-4 border-4 border-slate-200">
                <div>
                    <h1 class="text-3xl sm:text-4xl font-bold text-white">Clement Baylion</h1>
                    <p class="text-lg sm:text-xl font-semibold text-blue-200 mt-1" data-i18n="marketingManager">Marketing Manager</p>
                </div>
                <h2 class="text-3xl sm:text-4xl font-bold text-white mt-8" data-i18n="customerValueSlogan">Customer gets every value</h2>
                <p class="mt-4 max-w-2xl mx-auto text-md text-blue-100" data-i18n="sloganDescription">
                    Building the bridge between engineering and customers, ensuring each innovation is perfectly understood and becomes a reason to buy.
                </p>
                <div class="mt-16 flex flex-wrap justify-center gap-8">
                    <a id="contactMeBtn" href="#" class="text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 shadow-md w-full sm:w-56 flex items-center justify-center" style="background-color: #645ddc;" data-i18n="contactMeBtn">
                        Contact Me
                    </a>
                    <a href="./resume.html" class="text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 shadow-md w-full sm:w-56 flex items-center justify-center" style="background-color: #645ddc;" data-i18n="experienceDetailsBtn">
                        Experience Details
                    </a>
                </div>
            </header>
        </div>
    </div>

    <!-- Full-width My Mission Section (White Background) -->
    <div class="bg-white shadow-lg mb-16">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
                <div class="md:w-2/3">
                    <h2 class="text-2xl font-bold text-slate-900 border-b-2 border-blue-200 pb-2 mb-4" data-i18n="missionTitle">Transform innovation into sales</h2>
                    <p class="text-slate-600 text-base leading-relaxed" data-i18n="missionDescription">
                        No time or not paying attention, customers can miss a value. And you miss a sales. How to transform your innovations into easy ideas?
                        <br><br> Get an engineer specialized in marketing.
                    </p>
                </div>
                <div class="md:w-1/3 w-full mt-6 md:mt-0">
                    <img src="./images/techno.png" alt="Technological setting" class="rounded-xl shadow-lg w-full h-auto object-cover">
                </div>
            </section>
        </div>
    </div>

    <!-- Full-width My Tools of Success Section (Dark Background) -->
    <div class="bg-[#2e1b79] shadow-lg mb-16">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="text-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-white border-b-2 border-blue-200 pb-2 mb-8" data-i18n="toolsTitle">My Tools of Success</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4" data-i18n="tool1Title">MBA and Engineer</h3>
                        <p class="text-slate-600" data-i18n="tool1Description">
                            Dual expertise Combining engineering and strategic vision to create replicable success
                        </p>
                    </div>
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-3" data-i18n="tool2Title">20 Years Experience</h3>
                        <p class="text-slate-600" data-i18n="tool2Description">
                            Global perspective built over 20 years, shaping growth strategies for 3 major brands across 2 continents 
                        </p>
                    </div>
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-3" data-i18n="tool3Title">Proven Execution</h3>
                        <p class="text-slate-600" data-i18n="tool3Description">
                             Demonstrated ability to deliver results on both stand-alone initiatives and large-scale strategic projects 
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- AI Marketing Assistant Section -->
    <div class="bg-white shadow-lg mb-16">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="text-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-slate-900 border-b-2 border-blue-200 pb-2 mb-8" data-i18n="aiAssistantTitle">Assistant Marketing IA</h2>
                <p class="text-slate-600 mb-6" data-i18n="aiAssistantDescription">Posez une question sur mon expérience ou demandez un résumé de mes compétences. (Basé sur l'API Gemini)</p>
                <div class="max-w-2xl mx-auto">
                    <textarea id="aiInput" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" rows="3" data-i18n-placeholder="aiInputPlaceholder" placeholder="Ex: Quel est le principal atout de Clément pour une entreprise technologique ?"></textarea>
                    <div class="mt-4 flex flex-col sm:flex-row justify-center gap-4">
                        <button id="askQuestionBtn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-300 flex items-center justify-center">
                            <span data-i18n="askQuestionBtn">Poser la question</span>
                        </button>
                        <button id="summarizeExpertiseBtn" class="bg-slate-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-700 transition-colors duration-300 flex items-center justify-center">
                            <span data-i18n="summarizeExpertiseBtn">Résumer l'expertise</span>
                        </button>
                    </div>
                    <div id="aiOutput" class="mt-6 p-4 bg-slate-50 rounded-lg min-h-[100px] text-left">
                        <!-- La réponse de l'IA sera affichée ici -->
                    </div>
                    <div id="loadingIndicator" class="hidden mt-4 items-center justify-center flex-col">
                        <div class="loading-spinner mx-auto"></div>
                        <p class="text-slate-500 mt-2" data-i18n="loadingText">Génération de la réponse...</p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- New Section: Bottom Contact Buttons -->
    <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12 text-center">
        <div class="flex flex-col sm:flex-row justify-center gap-8">
            <a id="contactMeBtnBottom" href="#" class="text-white font-bold py-3 px-12 rounded-lg transition-colors duration-300 shadow-md w-full sm:max-w-xs flex items-center justify-center" style="background-color: #645ddc;" data-i18n="contactMeBtn">
                Contact Me
            </a>
            <a href="./resume.html" class="text-white font-bold py-3 px-12 rounded-lg transition-colors duration-300 shadow-md w-full sm:max-w-xs flex items-center justify-center" style="background-color: #645ddc;" data-i18n="experienceDetailsBtn">
                Experience Details
            </a>
        </div>
    </div>

    <!-- Footer Section -->
    <footer class="bg-[#2e1b79] text-white text-center py-8">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12">
            <p data-i18n="copyright">&copy; 2025 Clement Baylion. All rights reserved.</p>
        </div>
    </footer>

    <!-- The Modal (outside all main content blocks) -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3 class="text-2xl font-bold text-slate-900 mb-4" data-i18n="contactMeModalTitle">Contact Me</h3>
            <p class="text-lg text-slate-700 mb-2" data-i18n="email">
                Email: <a href="mailto:clement-baylion@hotmail.fr" class="text-blue-600 hover:underline">clement-baylion@hotmail.fr</a>
            </p>
            <p class="text-lg text-slate-700" data-i18n="phone">
                Phone: <span class="text-blue-600">+46 72 142 91 08</span>
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module">
        // --- MODAL & LANGUAGE SCRIPT (No changes here) ---
        var modal = document.getElementById("contactModal");
        var btnTop = document.getElementById("contactMeBtn");
        var btnBottom = document.getElementById("contactMeBtnBottom");
        var span = document.getElementsByClassName("close-button")[0];
        if(btnTop) btnTop.onclick = () => modal.style.display = "flex";
        if(btnBottom) btnBottom.onclick = () => modal.style.display = "flex";
        if(span) span.onclick = () => modal.style.display = "none";
        window.onclick = (event) => { if (event.target == modal) modal.style.display = "none"; };

        const translations = {
            en: {
                pageTitle: "Clement Baylion - Profile",
                marketingManager: "Marketing Manager",
                customerValueSlogan: "Customer gets every value",
                sloganDescription: "Building the bridge between engineering and customers, ensuring each innovation is perfectly understood and becomes a reason to buy.",
                contactMeBtn: "Contact Me",
                experienceDetailsBtn: "Experience Details",
                missionTitle: "Transform innovation into sales",
                missionDescription: "No time or not paying attention, customers can miss a value. And you miss a sales. How to transform your innovations into easy ideas?<br><br> Get an engineer specialized in marketing.",
                toolsTitle: "My Tools of Success",
                tool1Title: "MBA and Engineer",
                tool1Description: "Dual expertise Combining engineering and strategic vision to create replicable success",
                tool2Title: "20 Years Experience",
                tool2Description: "Global perspective built over 20 years, shaping growth strategies for 3 major brands across 2 continents",
                tool3Title: "Proven Execution",
                tool3Description: "Demonstrated ability to deliver results on both stand-alone initiatives and large-scale strategic projects",
                copyright: "&copy; 2025 Clement Baylion. All rights reserved.",
                contactMeModalTitle: "Contact Me",
                email: "Email:",
                phone: "Phone:",
                flagEnAlt: "English",
                flagFrAlt: "French",
                flagSvAlt: "Swedish",
                aiAssistantTitle: "AI Marketing Assistant",
                aiAssistantDescription: "Ask a question about my experience or request a summary of my skills. (Powered by Gemini API)",
                aiInputPlaceholder: "Ex: What is Clement's main asset for a tech company?",
                askQuestionBtn: "Ask Question",
                summarizeExpertiseBtn: "Summarize Expertise",
                loadingText: "Generating response...",
            },
            fr: {
                pageTitle: "Clément Baylion - Profil",
                marketingManager: "Responsable Marketing",
                customerValueSlogan: "Le client obtient toute la valeur",
                sloganDescription: "Bâtir le pont entre l'ingénierie et les clients, en s'assurant que chaque innovation est parfaitement comprise et devient une raison d'acheter.",
                contactMeBtn: "Contactez-moi",
                experienceDetailsBtn: "Détails Expérience",
                missionTitle: "Transformer l'innovation en ventes",
                missionDescription: "Par manque de temps ou d'attention, les clients peuvent manquer une valeur. Et vous manquez une vente. Comment transformer vos innovations en idées simples ?<br><br> Faites appel à un ingénieur spécialisé en marketing.",
                toolsTitle: "Mes Outils de Succès",
                tool1Title: "MBA et Ingénieur",
                tool1Description: "Double expertise Combinant ingénierie et vision stratégique pour créer un succès reproductible",
                tool2Title: "20 Ans d'Expérience",
                tool2Description: "Perspective globale bâtie sur 20 ans, façonnant les stratégies de croissance pour 3 grandes marques sur 2 continents",
                tool3Title: "Exécution Éprouvée",
                tool3Description: "Capacité démontrée à obtenir des résultats sur des initiatives autonomes et des projets stratégiques à grande échelle",
                copyright: "&copy; 2025 Clément Baylion. Tous droits réservés.",
                contactMeModalTitle: "Me Contacter",
                email: "E-mail :",
                phone: "Téléphone :",
                flagEnAlt: "Anglais",
                flagFrAlt: "Français",
                flagSvAlt: "Suédois",
                aiAssistantTitle: "Assistant Marketing IA",
                aiAssistantDescription: "Posez une question sur mon expérience ou demandez un résumé de mes compétences. (Basé sur l'API Gemini)",
                aiInputPlaceholder: "Ex: Quel est le principal atout de Clément pour une entreprise technologique ?",
                askQuestionBtn: "Poser la question",
                summarizeExpertiseBtn: "Résumer l'expertise",
                loadingText: "Génération de la réponse...",
            },
            sv: {
                pageTitle: "Clement Baylion - Profil",
                marketingManager: "Marknadschef",
                customerValueSlogan: "Kunden får allt värde",
                sloganDescription: "Bygger bron mellan ingenjörskonst och kunder, säkerställer att varje innovation förstås perfekt och blir en anledning att köpa.",
                contactMeBtn: "Kontakta mig",
                experienceDetailsBtn: "Erfarenhetsdetaljer",
                missionTitle: "Förvandla innovation till försäljning",
                missionDescription: "Brist på tid eller ouppmärksamhet kan göra att kunder missar ett värde. Och du missar en försäljning. Hur omvandlar man innovationer till enkla idéer?<br><br> Anlita en ingenjör specialiserad på marknadsföring.",
                toolsTitle: "Mina Framgångsverktyg",
                tool1Title: "MBA och Ingenjör",
                tool1Description: "Dubbel expertis som kombinerar ingenjörskonst och strategisk vision för att skapa replikerbar framgång",
                tool2Title: "20 års Erfarenhet",
                tool2Description: "Globalt perspektiv byggt över 20 år, som formar tillväxtstrategier för 3 major brands över 2 kontinenter",
                tool3Title: "Beprövad Genomförande",
                tool3Description: "Demonstrerad förmåga att leverera resultat på både fristående initiativ och storskaliga strategiska projekt",
                copyright: "&copy; 2025 Clement Baylion. Alla rättigheter förbehållna.",
                contactMeModalTitle: "Kontakta mig",
                email: "E-post:",
                phone: "Telefon:",
                flagEnAlt: "Engelska",
                flagFrAlt: "Franska",
                flagSvAlt: "Svenska",
                aiAssistantTitle: "AI Marknadsassistent",
                aiAssistantDescription: "Ställ en fråga om min erfarenhet eller begär en sammanfattning av mina kunskaper. (Drivs av Gemini API)",
                aiInputPlaceholder: "Ex: Vilken är Clements främsta tillgång för ett teknikföretag?",
                askQuestionBtn: "Ställ Fråga",
                summarizeExpertiseBtn: "Sammanfatta Expertis",
                loadingText: "Genererar svar...",
            }
        };

        let currentLang = localStorage.getItem('lang') || 'en';

        window.switchLanguage = function(langCode) {
            currentLang = langCode;
            localStorage.setItem('lang', currentLang);
            applyTranslations();
        };

        function applyTranslations() {
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[currentLang] && translations[currentLang][key]) {
                    element.innerHTML = translations[currentLang][key];
                }
            });
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (translations[currentLang] && translations[currentLang][key]) {
                    element.placeholder = translations[currentLang][key];
                }
            });
            document.title = translations[currentLang].pageTitle;
        }

        // --- GEMINI API SCRIPT ---
        const agentPersonaInstruction = `You are Clement Baylion, a Marketing Manager with a dual background as an engineer and an MBA. You have 20 years of experience across mechanics, software, electronics, and services. You specialize in transforming complex technical innovations into clear value propositions that drive sales. You bridge the gap between engineering teams and customers. Your key strengths are your strategic vision, your ability to make technology understandable and desirable, and your proven track record of execution with major brands. You are analytical, results-oriented, and customer-focused. Respond to questions based on this persona.`;

        document.addEventListener('DOMContentLoaded', () => {
            applyTranslations(); // Apply translations on load

            const aiInput = document.getElementById('aiInput');
            const askQuestionBtn = document.getElementById('askQuestionBtn');
            const summarizeExpertiseBtn = document.getElementById('summarizeExpertiseBtn');
            const aiOutput = document.getElementById('aiOutput');
            const loadingIndicator = document.getElementById('loadingIndicator');

            async function callGeminiAPI(userPrompt) {
                loadingIndicator.style.display = 'flex';
                aiOutput.innerHTML = '';
                askQuestionBtn.disabled = true;
                summarizeExpertiseBtn.disabled = true;

                try {
                    // FIX: Combine persona and user prompt into a single message.
                    // This avoids sending two consecutive 'user' roles, which can cause API errors.
                    const fullPrompt = `${agentPersonaInstruction}\n\n---\n\nUser Request: ${userPrompt}`;

                    const payload = {
                        contents: [{
                            role: "user",
                            parts: [{ text: fullPrompt }]
                        }]
                    };
                    
                    const apiKey = ""; // API key is handled by the environment
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        // Improved error handling to get more details from the API response
                        let errorDetails = `API request failed with status ${response.status}`;
                        try {
                            const errorData = await response.json();
                            errorDetails = errorData?.error?.message || JSON.stringify(errorData);
                        } catch (e) {
                            // Fallback if the error response isn't JSON
                            errorDetails = await response.text();
                        }
                        throw new Error(errorDetails);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content.parts[0].text) {
                        const text = result.candidates[0].content.parts[0].text;
                        aiOutput.innerHTML = `<p class="text-slate-700" style="white-space: pre-wrap;">${text}</p>`;
                    } else {
                        throw new Error("Invalid or empty response structure from API.");
                    }
                } catch (error) {
                    aiOutput.innerHTML = `<p class="text-red-500">Erreur: Impossible de générer une réponse. Veuillez réessayer.<br><small>Détail: ${error.message}</small></p>`;
                    console.error("Error calling Gemini API:", error);
                } finally {
                    loadingIndicator.style.display = 'none';
                    askQuestionBtn.disabled = false;
                    summarizeExpertiseBtn.disabled = false;
                }
            }

            if (askQuestionBtn) {
                askQuestionBtn.addEventListener('click', () => {
                    const input = aiInput.value.trim();
                    if (input) {
                        // SIMPLIFIED: Just pass the user's question. The persona is handled inside the function.
                        callGeminiAPI(input);
                    } else {
                        aiOutput.innerHTML = '<p class="text-red-500">Veuillez entrer une question.</p>';
                    }
                });
            }
            
            if (summarizeExpertiseBtn) {
                summarizeExpertiseBtn.addEventListener('click', () => {
                    // SIMPLIFIED: The prompt is more direct as the persona is handled inside the function.
                    const prompt = `Provide a concise summary of your key added value and expertise. Focus on how your skills and experience translate into concrete benefits for a potential employer. Provide the summary in ${currentLang === 'fr' ? 'French' : 'English'}.`;
                    callGeminiAPI(prompt);
                });
            }
        });
    </script>
</body>
</html>
