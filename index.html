<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="pageTitle">Clement Baylion - Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth; /* For smooth scrolling to sections */
            background-color: #f8fafc; /* Overall body background (light gray) */
        }
        .gradient-text {
            background: linear-gradient(to right, #3b82f6, #1e40af);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Styles for the modal */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto; /* Center vertically and horizontally */
            padding: 2.5rem; /* Increased padding */
            border-radius: 1rem; /* Rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Stronger shadow */
            position: relative;
            max-width: 90%; /* Max width for responsiveness */
            width: 400px; /* Fixed width for larger screens */
            text-align: center;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #3b82f6; /* Blue spinner */
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-left: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .language-switcher {
            position: absolute;
            top: 1rem;
            right: 1rem;
            z-index: 10;
        }
        .language-switcher img {
            width: 30px;
            height: 30px;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: transform 0.2s ease;
        }
        .language-switcher img:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Language Switcher -->
    <div class="language-switcher">
        <img id="langFlag" src="./images/flag_en.png" alt="Switch language" onclick="switchLanguage()">
    </div>

    <!-- Full-width Header Section (Dark Background) -->
    <div class="bg-[#2e1b79] shadow-lg mb-16"> <!-- Removed rounded-t-2xl -->
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <header class="flex flex-col items-center text-center">
                <!-- Profile image -->
                <img src="./images/Clement profil gray.jpg" alt="Photo de Clement Baylion" class="w-32 h-32 rounded-full mb-4 border-4 border-slate-200">
                <div>
                    <!-- Name and professional title -->
                    <h1 class="text-3xl sm:text-4xl font-bold text-white">Clement Baylion</h1>
                    <p class="text-lg sm:text-xl font-semibold text-blue-200 mt-1" data-i18n="marketingManager">Marketing Manager</p>
                </div>
                
                <!-- Slogan or value proposition -->
                <h2 class="text-3xl sm:text-4xl font-bold text-white mt-8" data-i18n="customerValueSlogan">Customer gets every value</h2> <!-- Increased font size here -->
                <p class="mt-4 max-w-2xl mx-auto text-md text-blue-100" data-i18n="sloganDescription">
                    Building the bridge between engineering and customers, ensuring each innovation is perfectly understood and becomes a reason to buy.
                </p>

                <!-- Action buttons section -->
                <div class="mt-16 flex flex-wrap justify-center gap-8">
                    <!-- Contact button -->
                    <a id="contactMeBtn" href="#" class="text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 shadow-md w-full sm:w-48" style="background-color: #645ddc;" data-i18n="contactMeBtn">
                        Contact Me
                    </a>
                    <!-- Download CV button -->
                    <a href="./resume.html" class="text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 shadow-md w-full sm:w-48" style="background-color: #645ddc;" data-i18n="resumeBtn">
                        Resume
                    </a>
                </div>
            </header>
        </div>
    </div>

    <!-- Full-width My Mission Section (White Background) -->
    <div class="bg-white shadow-lg mb-16"> <!-- No rounded corners here, it's a middle section -->
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
                <div class="md:w-2/3">
                    <h2 class="text-2xl font-bold text-slate-900 border-b-2 border-blue-200 pb-2 mb-4" data-i18n="missionTitle">Transform innovation into sales</h2>
                    <p class="text-slate-600 text-base leading-relaxed" data-i18n="missionDescription">
                        No time or not paying attention, customers can miss a value. And you miss a sales. How to transform your innovations into easy ideas?
                        <br><br> Get an engineer specialized in marketing.
                    </p>
                </div>
                <div class="md:w-1/3 w-full mt-6 md:mt-0">
                    <!-- Illustrative image for professional summary -->
                    <img src="./images/techno.png" alt="Technological setting" class="rounded-xl shadow-lg w-full h-auto object-cover">
                </div>
            </section>
        </div>
    </div>

    <!-- Full-width My Tools of Success Section (Dark Background) -->
    <div class="bg-[#2e1b79] shadow-lg mb-16 rounded-b-2xl"> <!-- Re-added rounded-b-2xl as it's now the last section before the combined block -->
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="text-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-white border-b-2 border-blue-200 pb-2 mb-8" data-i18n="toolsTitle">My Tools of Success</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Tool Box 1 (White Background) -->
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <!-- Logo for Tool Box 1 -->
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4" data-i18n="tool1Title">MBA and Engineer</h3>
                        <p class="text-slate-600" data-i18n="tool1Description">
                            Dual expertise Combining engineering and strategic vision to create replicable success
                        </p>
                    </div>
                    <!-- Tool Box 2 (White Background) -->
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <!-- Logo for Tool Box 2 -->
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-3" data-i18n="tool2Title">20 Years Experience</h3>
                        <p class="text-slate-600" data-i18n="tool2Description">
                            Global perspective built over 20 years, shaping growth strategies for 3 major brands across 2 continents 
                        </p>
                    </div>
                    <!-- Tool Box 3 (White Background) -->
                    <div class="bg-slate-100 p-6 rounded-xl shadow-md flex flex-col items-center">
                        <!-- Logo for Tool Box 3 -->
                        <img src="./images/logo.png" alt="Tool Logo" class="w-16 h-16 mb-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-slate-800 mb-3" data-i18n="tool3Title">Proven Execution</h3>
                        <p class="text-slate-600" data-i18n="tool3Description">
                             Demonstrated ability to deliver results on both stand-alone initiatives and large-scale strategic projects 
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Removed "Activity Sectors" and "Another Infographic" sections -->
    <!--
    <div class="bg-white shadow-lg mb-16 rounded-b-2xl py-8">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-8">
            <div class="flex flex-col md:flex-row items-start gap-16">
                <div class="w-full md:w-1/2">
                    <h2 class="text-2xl font-bold text-slate-900 border-b-2 border-blue-200 pb-2 mb-8 text-center" data-i18n="activitySectorsTitle">Activity Sectors</h2>
                    
                    <div class="space-y-4">
                        <div class="flex items-center gap-4">
                            <div class="flex flex-col items-center w-24 flex-shrink-0">
                                <img src="./images/mechanic.jpg" alt="Mechanic Logo" class="w-8 h-8 rounded-full object-cover mb-1">
                                <span class="font-semibold text-sm text-slate-800 text-center" data-i18n="mechanicSkill">Mechanic</span>
                            </div>
                            <div class="flex-grow flex items-center gap-4">
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 100%"></div>
                                </div>
                                <img src="./images/diplome.jpg" alt="Diploma Image" class="max-h-20 w-auto rounded-lg">
                            </div>
                        </div>

                        <div class="flex items-center gap-4">
                            <div class="flex flex-col items-center w-24 flex-shrink-0">
                                <img src="./images/informatique.jpg" alt="Software Logo" class="w-8 h-8 rounded-full object-cover mb-1">
                                <span class="font-semibold text-sm text-slate-800 text-center" data-i18n="softwareSkill">Software</span>
                            </div>
                            <div class="flex-grow flex items-center gap-4">
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 60%"></div>
                                </div>
                                <img src="./images/apprenti.jpg" alt="Apprentice Image" class="max-h-20 w-auto rounded-lg">
                            </div>
                        </div>

                        <div class="flex items-center gap-4">
                            <div class="flex flex-col items-center w-24 flex-shrink-0">
                                <img src="./images/electronic.jpg" alt="Electronic Logo" class="w-8 h-8 rounded-full object-cover mb-1">
                                <span class="font-semibold text-sm text-slate-800 text-center" data-i18n="electronicSkill">Electronic</span>
                            </div>
                            <div class="flex-grow flex items-center gap-4">
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 40%"></div>
                                </div>
                                <img src="./images/play.jpg" alt="Play Image" class="max-h-20 w-auto rounded-lg">
                            </div>
                        </div>

                        <div class="flex items-center gap-4">
                            <div class="flex flex-col items-center w-24 flex-shrink-0">
                                <img src="./images/service.jpg" alt="Service Logo" class="w-8 h-8 rounded-full object-cover mb-1">
                                <span class="font-semibold text-sm text-slate-800 text-center" data-i18n="serviceSkill">Service</span>
                            </div>
                            <div class="flex-grow flex items-center gap-4">
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 20%"></div>
                                </div>
                                <img src="./images/play.jpg" alt="Play Image" class="max-h-20 w-auto rounded-lg">
                            </div>
                        </div>

                        <div class="flex items-center gap-4">
                            <div class="flex flex-col items-center w-24 flex-shrink-0">
                                <img src="./images/chemistry.jpg" alt="Chemistry Logo" class="w-8 h-8 rounded-full object-cover mb-1">
                                <span class="font-semibold text-sm text-slate-800 text-center" data-i18n="chemistrySkill">Chemistry</span>
                            </div>
                            <div class="flex-grow flex items-center gap-4">
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 20%"></div>
                                </div>
                                <img src="./images/baby.jpg" alt="Baby Image" class="max-h-20 w-auto rounded-lg">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="w-full md:w-1/2 bg-slate-100 rounded-xl shadow-lg p-8 text-center flex flex-col items-center justify-center min-h-[400px]">
                    <h3 class="text-2xl font-bold text-slate-900 mb-4" data-i18n="infographicTitle">Another Infographic Here</h3>
                    <p class="text-slate-600" data-i18n="infographicDescription">This space is ready for your second infographic or visual element.</p>
                    <img src="https://placehold.co/300x200/e0e7ff/3730a3?text=Infographic+2" alt="Infographic Placeholder 2" class="mt-6 rounded-lg">
                </div>
            </div>
        </div>
    </div>
    -->

    <!-- Full-width AI Marketing Assistant Section (White Background) - Moved to the end -->
    <!--
    <div class="bg-white shadow-lg mb-16 rounded-b-2xl">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12">
            <section class="text-center">
                <h2 class="text-2xl font-bold text-slate-900 border-b-2 border-blue-200 pb-2 mb-8">What can it brings me?</h2>
                <p class="text-slate-600 mb-6">
                    I am an AI agent with Clement's main profile elements in memory. You can ask me questions about it. <br> (I'm limited in the number of requests, if not working, try in a minute.)
                </p>
                <textarea id="aiInput" class="w-full p-3 rounded-lg border border-slate-300 mb-4 resize-y" rows="6" placeholder="E.g., 'What are Clement's key strengths in digital marketing?' or 'Compare my job offer for a Product Manager with Clement's profile.'"></textarea>
                <div class="flex flex-wrap justify-center gap-4 w-full mb-6">
                    <button id="askQuestionBtn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-300 shadow-md text-sm">
                        Ask Question
                    </button>
                    <button id="summarizeExpertiseBtn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-300 shadow-md text-sm">
                        Summarize Expertise
                    </button>
                </div>
                <div id="aiOutput" class="w-full bg-slate-50 p-4 rounded-lg border border-slate-200 text-left text-slate-700 min-h-[100px] flex items-center justify-center" style="white-space: pre-wrap;">
                    <p class="text-slate-500">Your AI-generated content will appear here.</p>
                </div>
                <div id="loadingIndicator" class="hidden mt-4 text-blue-600">
                    <span class="loading-spinner"></span> Generating...
                </div>
            </section>
        </div>
    </div>
    -->

    <!-- New Section: Bottom Contact Buttons -->
    <div class="container mx-auto max-w-4xl px-8 sm:px-12 py-12 text-center">
        <div class="flex flex-col sm:flex-row justify-center gap-8">
            <!-- Contact Me Button (wider) -->
            <a id="contactMeBtnBottom" href="#" class="text-white font-bold py-3 px-12 rounded-lg transition-colors duration-300 shadow-md w-full sm:max-w-xs" style="background-color: #645ddc;" data-i18n="contactMeBtn">
                Contact Me
            </a>
            <!-- Resume Button (wider) -->
            <a href="./resume.html" class="text-white font-bold py-3 px-12 rounded-lg transition-colors duration-300 shadow-md w-full sm:max-w-xs" style="background-color: #645ddc;" data-i18n="resumeBtn">
                Resume
            </a>
        </div>
    </div>

    <!-- Footer Section -->
    <footer class="bg-[#2e1b79] text-white text-center py-8">
        <div class="container mx-auto max-w-4xl px-8 sm:px-12">
            <p data-i18n="copyright">&copy; 2025 Clement Baylion. All rights reserved.</p>
            
        </div>
    </footer>

    <!-- The Modal (outside all main content blocks) -->
    <div id="contactModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3 class="text-2xl font-bold text-slate-900 mb-4" data-i18n="contactMeModalTitle">Contact Me</h3>
            <p class="text-lg text-slate-700 mb-2" data-i18n="email">
                Email: <a href="mailto:clement-baylion@hotmail.fr" class="text-blue-600 hover:underline">clement-baylion@hotmail.fr</a>
            </p>
            <p class="text-lg text-slate-700" data-i18n="phone">
                Phone: <span class="text-blue-600">+46 72 142 91 08</span>
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module"> // Changed to type="module"
        // Import the persona instruction from the separate file
        // import { agentPersonaInstruction } from './persona.js'; // Commented out

        console.log("Script loaded and running."); // Debugging: Script loaded

        // Get the modal
        var modal = document.getElementById("contactModal");

        // Get the button that opens the modal
        var btnTop = document.getElementById("contactMeBtn"); // Top button
        var btnBottom = document.getElementById("contactMeBtnBottom"); // Bottom button

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close-button")[0];

        // When the user clicks the top button, open the modal 
        if (btnTop) {
            btnTop.onclick = function() {
                modal.style.display = "flex"; // Use flex to center content
                console.log("Top Contact Me button clicked."); // Debugging: Button clicked
            }
        } else {
            console.error("Error: Top Contact Me button not found."); // Debugging: Button not found
        }

        // When the user clicks the bottom button, open the modal 
        if (btnBottom) {
            btnBottom.onclick = function() {
                modal.style.display = "flex"; // Use flex to center content
                console.log("Bottom Contact Me button clicked."); // Debugging: Button clicked
            }
        } else {
            console.error("Error: Bottom Contact Me button not found."); // Debugging: Button not found
        }

        // When the user clicks on <span> (x), close the modal
        if (span) {
            span.onclick = function() {
                modal.style.display = "none";
                console.log("Close button clicked."); // Debugging: Close button clicked
            }
        } else {
            console.error("Error: Close button not found."); // Debugging: Close button not found
        }


        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
                console.log("Clicked outside modal."); // Debugging: Clicked outside
            }
        }

        // Language Switcher Logic
        const translations = {
            en: {
                pageTitle: "Clement Baylion - Profile",
                marketingManager: "Marketing Manager",
                customerValueSlogan: "Customer gets every value",
                sloganDescription: "Building the bridge between engineering and customers, ensuring each innovation is perfectly understood and becomes a reason to buy.",
                contactMeBtn: "Contact Me",
                resumeBtn: "Resume",
                missionTitle: "Transform innovation into sales",
                missionDescription: "No time or not paying attention, customers can miss a value. And you miss a sales. How to transform your innovations into easy ideas?<br><br> Get an engineer specialized in marketing.",
                toolsTitle: "My Tools of Success",
                tool1Title: "MBA and Engineer",
                tool1Description: "Dual expertise Combining engineering and strategic vision to create replicable success",
                tool2Title: "20 Years Experience",
                tool2Description: "Global perspective built over 20 years, shaping growth strategies for 3 major brands across 2 continents",
                tool3Title: "Proven Execution",
                tool3Description: "Demonstrated ability to deliver results on both stand-alone initiatives and large-scale strategic projects",
                activitySectorsTitle: "Activity Sectors",
                mechanicSkill: "Mechanic",
                softwareSkill: "Software",
                electronicSkill: "Electronic",
                serviceSkill: "Service",
                chemistrySkill: "Chemistry",
                infographicTitle: "Another Infographic Here",
                infographicDescription: "This space is ready for your second infographic or visual element.",
                copyright: "&copy; 2025 Clement Baylion. All rights reserved.",
                contactMeModalTitle: "Contact Me",
                email: "Email:",
                phone: "Phone:",
                // Add more keys as needed for other translatable content
            },
            fr: {
                pageTitle: "Clément Baylion - Profil",
                marketingManager: "Responsable Marketing",
                customerValueSlogan: "Le client obtient toute la valeur",
                sloganDescription: "Bâtir le pont entre l'ingénierie et les clients, en s'assurant que chaque innovation est parfaitement comprise et devient une raison d'acheter.",
                contactMeBtn: "Contactez-moi",
                resumeBtn: "CV",
                missionTitle: "Transformer l'innovation en ventes",
                missionDescription: "Par manque de temps ou d'attention, les clients peuvent manquer une valeur. Et vous manquez une vente. Comment transformer vos innovations en idées simples ?<br><br> Faites appel à un ingénieur spécialisé en marketing.",
                toolsTitle: "Mes Outils de Succès",
                tool1Title: "MBA et Ingénieur",
                tool1Description: "Double expertise Combinant ingénierie et vision stratégique pour créer un succès reproductible",
                tool2Title: "20 Ans d'Expérience",
                tool2Description: "Perspective globale bâtie sur 20 ans, façonnant les stratégies de croissance pour 3 grandes marques sur 2 continents",
                tool3Title: "Exécution Éprouvée",
                tool3Description: "Capacité démontrée à obtenir des résultats sur des initiatives autonomes et des projets stratégiques à grande échelle",
                activitySectorsTitle: "Secteurs d'Activité",
                mechanicSkill: "Mécanique",
                softwareSkill: "Logiciel",
                electronicSkill: "Électronique",
                serviceSkill: "Service",
                chemistrySkill: "Chimie",
                infographicTitle: "Autre Infographie Ici",
                infographicDescription: "Cet espace est prêt pour votre deuxième infographie ou élément visuel.",
                copyright: "&copy; 2025 Clément Baylion. Tous droits réservés.",
                contactMeModalTitle: "Me Contacter",
                email: "E-mail :",
                phone: "Téléphone :",
                // Add more keys as needed
            }
        };

        let currentLang = localStorage.getItem('lang') || 'en'; // Default to English

        const langFlag = document.getElementById('langFlag');

        function updateFlag() {
            if (currentLang === 'en') {
                langFlag.src = "./images/flag_fr.png";
                langFlag.alt = "Switch to French";
            } else {
                langFlag.src = "./images/flag_en.png";
                langFlag.alt = "Switch to English";
            }
        }

        window.switchLanguage = function() {
            currentLang = currentLang === 'en' ? 'fr' : 'en';
            localStorage.setItem('lang', currentLang);
            applyTranslations();
            updateFlag();
        };

        function applyTranslations() {
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[currentLang] && translations[currentLang][key]) {
                    // Special handling for placeholder and alt attributes
                    if (element.tagName === 'TEXTAREA' && element.placeholder) {
                        element.placeholder = translations[currentLang][key];
                    } else if (element.tagName === 'IMG' && element.alt) {
                        element.alt = translations[currentLang][key];
                    } else if (element.tagName === 'TITLE') { // For the <title> tag
                        document.title = translations[currentLang][key];
                    }
                    else {
                        element.innerHTML = translations[currentLang][key];
                    }
                }
            });
        }

        // Initial application of translations and flag update on page load
        document.addEventListener('DOMContentLoaded', () => {
            applyTranslations();
            updateFlag();
        });


        // Get the modal
        var modal = document.getElementById("contactModal");

        // Get the button that opens the modal
        var btnTop = document.getElementById("contactMeBtn"); // Top button
        var btnBottom = document.getElementById("contactMeBtnBottom"); // Bottom button

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close-button")[0];

        // When the user clicks the top button, open the modal 
        if (btnTop) {
            btnTop.onclick = function() {
                modal.style.display = "flex"; // Use flex to center content
                console.log("Top Contact Me button clicked."); // Debugging: Button clicked
            }
        } else {
            console.error("Error: Top Contact Me button not found."); // Debugging: Button not found
        }

        // When the user clicks the bottom button, open the modal 
        if (btnBottom) {
            btnBottom.onclick = function() {
                modal.style.display = "flex"; // Use flex to center content
                console.log("Bottom Contact Me button clicked."); // Debugging: Button clicked
            }
        } else {
            console.error("Error: Bottom Contact Me button not found."); // Debugging: Button not found
        }

        // When the user clicks on <span> (x), close the modal
        if (span) {
            span.onclick = function() {
                modal.style.display = "none";
                console.log("Close button clicked."); // Debugging: Close button clicked
            }
        } else {
            console.error("Error: Close button not found."); // Debugging: Close button not found
        }


        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
                console.log("Clicked outside modal."); // Debugging: Clicked outside
            }
        }

        // JavaScript for AI Marketing Assistant (commented out)
        /*
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOMContentLoaded event fired."); // Debugging: DOMContentLoaded

            const aiInput = document.getElementById('aiInput');
            const askQuestionBtn = document.getElementById('askQuestionBtn');
            const summarizeExpertiseBtn = document.getElementById('summarizeExpertiseBtn');
            const aiOutput = document.getElementById('aiOutput');
            const loadingIndicator = document.getElementById('loadingIndicator');

            // Debugging: Check if AI elements are found
            console.log("AI Input element:", aiInput);
            console.log("Ask Question button:", askQuestionBtn);
            console.log("Summarize Expertise button:", summarizeExpertiseBtn);
            
            // Check if agentPersonaInstruction is loaded
            if (typeof agentPersonaInstruction === 'undefined') {
                console.error("Error: agentPersonaInstruction is undefined. Make sure persona.js is correctly imported and exported.");
            } else {
                console.log("agentPersonaInstruction loaded successfully.");
            }


            // Function to call Gemini API
            async function callGeminiAPI(userPrompt) {
                console.log("callGeminiAPI called with prompt:", userPrompt); // Debugging: API call initiated
                loadingIndicator.classList.remove('hidden');
                aiOutput.innerHTML = ''; // Clear previous output
                aiOutput.classList.add('flex', 'items-center', 'justify-center'); // Center loading text

                try {
                    let chatHistory = [];
                    // Add the persona instruction as the first part of the chat history
                    chatHistory.push({ role: "user", parts: [{ text: agentPersonaInstruction }] });
                    // Then add the user's specific prompt
                    chatHistory.push({ role: "user", parts: [{ text: userPrompt }] });
                    
                    const payload = { contents: chatHistory };
                    const apiKey = ""; // Clé API laissée vide pour Canvas. Pour GitHub Pages, voir explication.
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    console.log("Gemini API raw response:", result); // Debugging: Raw API response

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        console.log("AI response raw text (from API):", text); // Debugging: Raw text from API
                        // Apply pre-wrap to preserve line breaks
                        aiOutput.innerHTML = `<p class="text-slate-700" style="white-space: pre-wrap;">${text}</p>`;
                        console.log("AI response displayed with line breaks."); // Debugging: Response displayed
                    } else {
                        aiOutput.innerHTML = `<p class="text-red-500">Error: Could not generate content. Please try again.</p>`;
                        console.error("Gemini API response structure unexpected or empty:", result); // Debugging: API response issue
                    }
                } catch (error) {
                    aiOutput.innerHTML = `<p class="text-red-500">Error: ${error.message}. Please check your input or try again later.</p>`;
                    console.error("Error calling Gemini API:", error); // Debugging: API call error
                } finally {
                    loadingIndicator.classList.add('hidden');
                    aiOutput.classList.remove('flex', 'items-center', 'justify-center'); // Remove centering after loading
                }
            }

            // Event Listener for Ask Question button
            if (askQuestionBtn) {
                askQuestionBtn.addEventListener('click', () => {
                    console.log("Ask Question button clicked."); // Debugging: Button clicked
                    const input = aiInput.value.trim();
                    if (input) {
                        callGeminiAPI(`Answer the following question based on Clement's resume and expertise: ${input}`);
                    } else {
                        aiOutput.innerHTML = '<p class="text-red-500">Please enter a question.</p>';
                    }
                });
            }
            // Event Listener for Summarize Expertise button
            if (summarizeExpertiseBtn) {
                summarizeExpertiseBtn.addEventListener('click', () => {
                    console.log("Summarize Expertise button clicked."); // Debugging: Button clicked
                    // No need for 'input' here, directly use the persona and ask for summary
                    callGeminiAPI(`Based on your persona as Clement Baylion, please provide a concise summary of your key added value and expertise. Focus on how your skills and experience translate into concrete benefits for a potential employer. Provide the summary in English.`);
                });
            }
        });
        */
    </script>
</body>
</html>
